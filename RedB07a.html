<html>
<head>
<style>

html,body{
  width:100%;
  height:100%;
  background-image: url("http://www.sexyli.com/wp-content/uploads/2013/09/abstract-tree-silhouette-with-blue-light-and-black-background-startling-dreamscene-wallpaper-1024x576.jpg");
}
#table {
    border: 4px solid yellow;
    position: absolute;
    top:70px;
    left: 60px;
    background-color: red;
    box-shadow: 0 0 150px red;
    }
#table01{
    border: 4px solid red;
    position: absolute;
    top:70px;  
    left:1100px;
    background-color:lightgreen;
    box-shadow: 0 0 150px lightgreen;
    }
#table02{
  border: 4px solid gray;
    position: absolute;
    top:400px;
    left:60px;
    background-color:blue;
    box-shadow: 0 0 150px blue;
  }
  #table03{
  border: 4px solid blue;
    position: absolute;
    top:400px;
    left:1100px;
    background-color:purple;
    box-shadow: 0 0 150px purple;
  }
</style>
<script src="http://code.jquery.com/jquery-1.8.3.js"></script>
<script>
//declare global variables
var thegame;
thegame = new mygame;

//create your object 
function mygame(){
  this.balls = [];
//an object method to say something
  this.sayhello = function (){
    console.log ('hello world');
  };
  this.addball = function (jsonBall){ 
    var newball = new ball();
    jQuery.extend(newball, jsonBall);
    this.balls.push(newball);
    newball.show();
  };
  
}

function ball(){
  var cssid;
  var imgsrc;
  var initialleft;
  var initialtop;
  this.debug = function (){
     console.log ('my id is: ' + this.cssid);
     console.log ('my image source is: ' + this.imgsrc);
  };
  this.show = function () {
    var game = $("#game");
    game.append("<img id='"+this.cssid+"' src='"+this.imgsrc+"'/>");
    this.element = $("#" + this.cssid);
    this.element.css({ position:'absolute',left:this.initialleft,top:this.initialtop });
    
  };
  this.move=function(dx,dy){
    this.element.animate({ "left": "+=" +dx+ "px", "top": "+=" +dy+ "px" }, "slow" );
  };

}

$(document).ready (function(){
  var server = new ajaxServiceLayer();
  var ballsFromJSON = server.getballs();
  for (i=0;i<ballsFromJSON.length;i++){
    thegame.addball(ballsFromJSON[i]);
    $("#redball").fadeOut("slow");
    $("#redball").fadeIn("fast");
    $("#redball").animate({ "left": "+=280px" }, 600);
    $("#redball").animate({ "left": "-=280px" }, 600);
    $("#greenball").fadeOut("slow");
    $("#greenball").fadeIn("fast");
    $("#greenball").animate({ "left": "-=280px" }, 600);
    $("#greenball").animate({ "left": "+=280px" }, 600);
    $("#blueball").fadeOut("slow");
    $("#blueball").fadeIn("fast");
    $("#blueball").animate({ "left": "+=280px" }, 600);
    $("#blueball").animate({ "left": "-=280px" }, 600);
    $("#purpleball").fadeOut("slow");
    $("#purpleball").fadeIn("fast");
    $("#purpleball").animate({ "left": "-=280px" }, 600);
    $("#purpleball").animate({ "left": "+=280px" }, 600);

  }
  
});

function ajaxServiceLayer(){
  this.getball = function(){
    //name the return value
    var retval;
    /*
    $.get("getball.aspx")
      .done(function(data){
        retval = JSON.parse(data);
      });
    */
    //fake the server for now
    //http://www.w3schools.com/json/json_syntax.asp
    retval = JSON.parse('{"cssid":"redball","imgsrc":"http://www.icstars.org/files/redball.jpg","initialleft":100,"initialtop":100}');
    
    return retval;
  };

  this.getballs = function(){
    //name the return value
    var retval;
    /*
    $.get("getballs.aspx")
      .done(function(data){
        retval = JSON.parse(data);
      });
    */
    //fake the server for now
    //http://www.w3schools.com/json/json_syntax.asp
    retval = JSON.parse('[{"cssid":"redball","imgsrc":"http://www.fordesigner.com/imguploads/Image/cjbc/zcool/png20080526/1211811421.png","initialleft":150,"initialtop":30},{"cssid":"greenball","imgsrc":"http://www.fordesigner.com/imguploads/Image/cjbc/zcool/png20080526/1211811437.png","initialleft":860,"initialtop":30},{"cssid":"blueball","imgsrc":"http://www.fordesigner.com/imguploads/Image/cjbc/zcool/png20080526/1211811443.png","initialleft":150,"initialtop":300},{"cssid":"purpleball","imgsrc":"http://www.fordesigner.com/imguploads/Image/cjbc/zcool/png20080526/1211811457.png","initialleft":860,"initialtop":300}]');
    
    return retval;
  };
  
}
</script>
</head>
<body>
<table id="table">
             <tr>
                    <td><button onclick="thegame.balls[0].move(-50,-50);">&#8598;</button></td>
                    <td><button onclick="thegame.balls[0].move(0,-50);">&#8593;</button></td>
                    <td><button onclick="thegame.balls[0].move(+50,-50);">&#8599;</button></td>
            </tr>
            <tr>
                    <td><button onclick="thegame.balls[0].move(-50,0);">&#8592;</button></td>
                    <td><button onclick="thegame.balls[0].debug();thegame.balls[0].move(+50,-50);thegame.balls[0].move(+50,+50);thegame.balls[0].move(-100,0);">?</button></td>
                    <td><button onclick="thegame.balls[0].move(+50,0);">&#8594;</button></td>
            </tr>
            <tr>      
                    <td><button onclick="thegame.balls[0].move(-50,+50);">&#8601;</button></td>
                    <td><button onclick="thegame.balls[0].move(0,50);">&#8595;</button></td>
                    <td><button onclick="thegame.balls[0].move(+50,+50);">&#8600;</button></td>
  
<table id="table01">
             <tr>
                    <td><button onclick="thegame.balls[01].move(-50,-50);">&#8598;</button></td>
                    <td><button onclick="thegame.balls[01].move(0,-50);">&#8593;</button></td>
                    <td><button onclick="thegame.balls[01].move(+50,-50);">&#8599;</button></td>
            </tr>
            <tr>
                    <td><button onclick="thegame.balls[01].move(-10,0);">&#8592;</button></td>
                    <td><button onclick="thegame.balls[01].debug();thegame.balls[01].move(-50,0);thegame.balls[01].move(0,+50);thegame.balls[01].move(+50,0);thegame.balls[01].move(0,-50);">?</button></td>
                    <td><button onclick="thegame.balls[01].move(+10,0);">&#8594;</button></td>
            </tr>
            <tr>      
                    <td><button onclick="thegame.balls[01].move(-10,+10);">&#8601;</button></td>
                    <td><button onclick="thegame.balls[01].move(0,10);">&#8595;</button></td>
                    <td><button onclick="thegame.balls[01].move(+10,+10);">&#8600;</button></td>
<table id="table02">
            <tr>
                    <td><button onclick="thegame.balls[02].move(-50,-50);">&#8598;</button></td>
                    <td><button onclick="thegame.balls[02].move(0,-50);">&#8593;</button></td>
                    <td><button onclick="thegame.balls[02].move(+50,-50);">&#8599;</button></td>
            </tr>
            <tr>
                    <td><button onclick="thegame.balls[02].move(-50,0);">&#8592;</button></td>
                    <td><button onclick="thegame.balls[02].debug();thegame.balls[02].move(+100,+100);thegame.balls[02].move(-200,-200);thegame.balls[02].move(+100,+100);thegame.balls[02].move(+100,-100);thegame.balls[02].move(-200,+200);thegame.balls[02].move(+100,-100);">?</button></td>
                    <td><button onclick="thegame.balls[02].move(+50,0);">&#8594;</button></td>
            </tr>
            <tr>      
                    <td><button onclick="thegame.balls[02].move(-50,+50);">&#8601;</button></td>
                    <td><button onclick="thegame.balls[02].move(0,50);">&#8595;</button></td>
                    <td><button onclick="thegame.balls[02].move(+50,+50);">&#8600;</button></td>
<table id="table03">
            <tr>
                    <td><button onclick="thegame.balls[03].move(-50,-50);">&#8598;</button></td>
                    <td><button onclick="thegame.balls[03].move(0,-50);">&#8593;</button></td>
                    <td><button onclick="thegame.balls[03].move(+50,-50);">&#8599;</button></td>
            </tr>
            <tr>
                    <td><button onclick="thegame.balls[03].move(-50,0);">&#8592;</button></td>
                    <td><button onclick="thegame.balls[03].debug();thegame.balls[03].move(+50,0);thegame.balls[03].move(+50,+50);thegame.balls[03].move(0,50);thegame.balls[03].move(-50,+50);thegame.balls[03].move(-50,0);thegame.balls[03].move(-50,-50);thegame.balls[03].move(0,-50);thegame.balls[03].move(+50,-50);">?</button></td>
                    <td><button onclick="thegame.balls[03].move(+50,0);">&#8594;</button></td>
            </tr>
            <tr>      
                    <td><button onclick="thegame.balls[03].move(-50,+50);">&#8601;</button></td>
                    <td><button onclick="thegame.balls[03].move(0,50);">&#8595;</button></td>
                    <td><button onclick="thegame.balls[03].move(+50,+50);">&#8600;</button></td>
<div id="game"></div>
</body>
</html>





